const {Permissions} = require("discord.js");

class HandlerCommand {
	#opts;
	
	constructor(args = {}) {
		this.#opts = args.opts ?? {};
	}

	run(interaction, opts, args) {}

	canRun(interaction) {
		if (this.#opts.permissionsRequired) {
			return interaction.memberPermissions.has(this.#opts.permissionsRequired.map(p => Permissions.FLAGS[p]));
		}
		return true;
	}

	get args() {}

	runArgs(interaction) {
		return this.args;
	}

	get opts() {
		return this.#opts;
	}

	runOpts(interaction) {
		return this.opts;
	}

	get ratelimit() {
		return this.#opts.ratelimit ?? 5000;
	}
}

module.exports = HandlerCommand;
